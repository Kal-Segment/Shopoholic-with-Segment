{"ast":null,"code":"import _slicedToArray from\"/Users/kal.kolacahill/Shopoholic-with-Segment/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/kal.kolacahill/Shopoholic-with-Segment/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kal.kolacahill/Shopoholic-with-Segment/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kal.kolacahill/Shopoholic-with-Segment/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kal.kolacahill/Shopoholic-with-Segment/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{fetchPhoneById as _fetchPhoneById,addPhoneToBasket as _addPhoneToBasket}from\"../actions/Phones\";import{getPhonesById}from\"../selectors/Phones\";import R from\"ramda\";import BasketCart from\"./BasketCart\";import AccountButton from\"./AccountButton\";import{Link}from\"react-router\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Phone=/*#__PURE__*/function(_React$Component){_inherits(Phone,_React$Component);var _super=_createSuper(Phone);function Phone(){var _this;_classCallCheck(this,Phone);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.componentDidMount=function(){window.analytics.page(\"Phone Info\");_this.props.fetchPhoneById(_this.props.params.id);};_this.renderFields=function(){var phone=_this.props.phone;var columnFields=R.compose(R.toPairs,R.pick([\"brand\",\"cpu\",\"camera\",\"size\",\"weight\",\"display\",\"battery\",\"memory\"]))(phone);// console.log(\"columnFields \", columnFields);\nreturn columnFields.map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ab-details-title\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\" \",key,\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"ab-details-info\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\" \",value,\" \"]})})]},key);});};_this.renderContent=function(){var phone=_this.props.phone;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"thumbnail\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-thumbnail\",src:phone.image,alt:phone.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:_this.renderFields()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"caption-full\"})]});};_this.renderSideBar=function(){var _this$props=_this.props,phone=_this$props.phone,addPhoneToBasket=_this$props.addPhoneToBasket;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h1\",{children:phone.name}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"$\",phone.price]}),/*#__PURE__*/_jsx(\"p\",{children:phone.description})]})}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-info btn-block\",children:\"Back to Store\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success btn-block\",onClick:function onClick(){return addPhoneToBasket(phone);},children:\"Add To Cart\"})]});};return _this;}_createClass(Phone,[{key:\"render\",value:function render(){// console.log(this.props.phone);\nvar phone=this.props.phone;return/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"web-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{margin:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"img-logo\",src:\"/uploads/phone123.png\",alt:\"Apple iPhone 5c\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"The Phone Shop\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"header-cart col-md-2\",children:/*#__PURE__*/_jsx(BasketCart,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-account col-md-2\",children:/*#__PURE__*/_jsx(AccountButton,{})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:phone&&this.renderContent()}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:phone&&this.renderSideBar()})]})]});}}]);return Phone;}(React.Component);// export default Phone;\nvar mapDispatchtoProps=function mapDispatchtoProps(dispatch){return{fetchPhoneById:function fetchPhoneById(id){dispatch(_fetchPhoneById(id));},addPhoneToBasket:function addPhoneToBasket(phone){dispatch(_addPhoneToBasket(phone.id));// track event for adding product to basket\nanalytics.track('Product Added',{name:phone.name,price:phone.price,cpu:phone.cpu,camera:phone.camera,size:phone.size,weight:phone.weight,display:phone.display,battery:phone.battery,memory:phone.memory});}};};var mapStateToProps=function mapStateToProps(state){return{phone:getPhonesById(state,state.PhonePage.id)};};export default connect(mapStateToProps,mapDispatchtoProps)(Phone);","map":{"version":3,"sources":["/Users/kal.kolacahill/Shopoholic-with-Segment/src/Containers/Phone.js"],"names":["React","connect","fetchPhoneById","addPhoneToBasket","getPhonesById","R","BasketCart","AccountButton","Link","Phone","componentDidMount","window","analytics","page","props","params","id","renderFields","phone","columnFields","compose","toPairs","pick","map","key","value","renderContent","image","name","renderSideBar","price","description","margin","Component","mapDispatchtoProps","dispatch","track","cpu","camera","size","weight","display","battery","memory","mapStateToProps","state","PhonePage"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchPhoneById, addPhoneToBasket } from \"../actions/Phones\";\r\nimport { getPhonesById } from \"../selectors/Phones\";\r\nimport R from \"ramda\";\r\nimport BasketCart from \"./BasketCart\";\r\nimport AccountButton from \"./AccountButton\";\r\nimport { Link } from \"react-router\";\r\n\r\nclass Phone extends React.Component {\r\n  componentDidMount = () => {\r\n    window.analytics.page(\"Phone Info\");\r\n    this.props.fetchPhoneById(this.props.params.id);\r\n  };\r\n\r\n  renderFields = () => {\r\n    const { phone } = this.props;\r\n    const columnFields = R.compose(\r\n      R.toPairs,\r\n      R.pick([\r\n        \"brand\",\r\n        \"cpu\",\r\n        \"camera\",\r\n        \"size\",\r\n        \"weight\",\r\n        \"display\",\r\n        \"battery\",\r\n        \"memory\",\r\n      ])\r\n    )(phone);\r\n    // console.log(\"columnFields \", columnFields);\r\n    return columnFields.map(([key, value]) => {\r\n      return (\r\n        <div className=\"column\" key={key}>\r\n          <div className=\"ab-details-title\">\r\n            <p> {key} </p>\r\n          </div>\r\n          <div className=\"ab-details-info\">\r\n            <p> {value} </p>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  renderContent = () => {\r\n    const { phone } = this.props;\r\n    return (\r\n      <div>\r\n        <div className=\"thumbnail\">\r\n          <div className=\"col-md-6\">\r\n            <img className=\"img-thumbnail\" src={phone.image} alt={phone.name} />\r\n          </div>\r\n          <div className=\"col-md-6\">{this.renderFields()}</div>\r\n        </div>\r\n        <div className=\"caption-full\">\r\n          {/*<h4 className=\"pull-right\">${phone.price}</h4>\r\n          <h2>{phone.name}</h2>\r\n          <p>{phone.description}</p>*/}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderSideBar = () => {\r\n    const { phone, addPhoneToBasket } = this.props;\r\n    return (\r\n      <div>\r\n        <div>\r\n          {/*<p className=\"lead\"> Quick Shop</p>\r\n          <BasketCart />*/}\r\n          <div className=\"form-group\">\r\n            <h1>{phone.name}</h1>\r\n            <h2>${phone.price}</h2>\r\n            <p>{phone.description}</p>\r\n          </div>\r\n        </div>\r\n        <Link to=\"/\" className=\"btn btn-info btn-block\">\r\n          Back to Store\r\n        </Link>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-success btn-block\"\r\n          onClick={() => addPhoneToBasket(phone)}\r\n        >\r\n          Add To Cart\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    // console.log(this.props.phone);\r\n    const { phone } = this.props;\r\n    return (\r\n      <div className=\"view-container\">\r\n        \r\n        {/* Website Header */}\r\n        <div className=\"web-header\">\r\n                <div className=\"row\" style={{margin: '20px'}}>\r\n                    <div className=\"col-md-8\">\r\n                    <img className=\"img-logo\" src=\"/uploads/phone123.png\" \r\n                    alt=\"Apple iPhone 5c\"></img>\r\n                    <h1>The Phone Shop</h1>\r\n                    </div>\r\n                    \r\n                    <div className=\"header-cart col-md-2\">\r\n                        <BasketCart />\r\n                    </div>\r\n    \r\n                    <div className=\"header-account col-md-2\">\r\n                        <AccountButton />\r\n                    </div>\r\n\r\n\r\n                </div>\r\n          </div>\r\n\r\n\r\n\r\n        <div className=\"container\">\r\n          <div className=\"col-md-8\">{phone && this.renderContent()}</div>\r\n          <div className=\"col-md-4\">{phone && this.renderSideBar()}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default Phone;\r\nconst mapDispatchtoProps = (dispatch) => ({\r\n  fetchPhoneById: (id) => {\r\n    dispatch(fetchPhoneById(id));\r\n  },\r\n  addPhoneToBasket: (phone) => {\r\n    dispatch(addPhoneToBasket(phone.id));\r\n    // track event for adding product to basket\r\n    analytics.track('Product Added',\r\n      {\r\n        name: phone.name,\r\n        price: phone.price,\r\n        cpu: phone.cpu,\r\n        camera: phone.camera,\r\n        size: phone.size,\r\n        weight: phone.weight,\r\n        display: phone.display,\r\n        battery: phone.battery,\r\n        memory: phone.memory,\r\n      });\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  phone: getPhonesById(state, state.PhonePage.id),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchtoProps)(Phone);\r\n"]},"metadata":{},"sourceType":"module"}