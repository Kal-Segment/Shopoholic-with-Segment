{"ast":null,"code":"import _classCallCheck from\"/Users/kal.kolacahill/Shopoholic-with-Segment/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kal.kolacahill/Shopoholic-with-Segment/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/kal.kolacahill/Shopoholic-with-Segment/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/kal.kolacahill/Shopoholic-with-Segment/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kal.kolacahill/Shopoholic-with-Segment/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{getProfile}from\"../selectors/Profile\";import{setProfile as _setProfile}from\"../actions/Profile\";import{browserHistory}from\"react-router\";import{Link}from\"react-router\";import btoa from\"btoa\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=/*#__PURE__*/function(_React$Component){_inherits(Profile,_React$Component);var _super=_createSuper(Profile);function Profile(props){var _this;_classCallCheck(this,Profile);_this=_super.call(this,props);_this.onUsernameInputChange=function(e){var usernameValue=e.target.value;_this.setState({usernameValue:usernameValue});};_this.onPasswordInputChange=function(e){var passwordValue=e.target.value;_this.setState({passwordValue:passwordValue});};_this.onFirstNameInputChange=function(e){var firstNameValue=e.target.value;_this.setState({firstNameValue:firstNameValue});};_this.onLastNameInputChange=function(e){var lastNameValue=e.target.value;_this.setState({lastNameValue:lastNameValue});};_this.handleSubmit=function(e){e.preventDefault();if(!_this.state.usernameValue||!_this.state.passwordValue||!_this.state.firstNameValue||!_this.state.lastNameValue){_this.setState({message:\"All fields are required\"});return;}var isLoginAction=_this.state.isRegisteredValue===true;var userId=!_this.props.userId?btoa(_this.state.usernameValue):_this.props.userId;_this.props.setProfile({username:_this.state.usernameValue,password:_this.state.passwordValue,firstName:_this.state.firstNameValue,lastName:_this.state.lastNameValue,isRegistered:true,isLoggedIn:isLoginAction,userId:userId});browserHistory.push(\"/\");};_this.state={usernameValue:props.username,passwordValue:props.password,firstNameValue:props.firstName,lastNameValue:props.lastName,isRegisteredValue:props.isRegistered,message:\"\"};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.onUsernameInputChange=_this.onUsernameInputChange.bind(_assertThisInitialized(_this));_this.onPasswordInputChange=_this.onPasswordInputChange.bind(_assertThisInitialized(_this));_this.onFirstNameInputChange=_this.onFirstNameInputChange.bind(_assertThisInitialized(_this));_this.onLastNameInputChange=_this.onLastNameInputChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Profile,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"view-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[!this.state.isRegisteredValue&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"firstName\",value:this.state.firstNameValue,onChange:this.onFirstNameInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"lastName\",value:this.state.lastNameValue,onChange:this.onLastNameInputChange})]})]}),!this.state.isLoggedIn&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"username\",value:this.state.usernameValue,onChange:this.onUsernameInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",onChange:this.onPasswordInputChange})]})]}),!this.state.isLoggedInValue&&/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:/*#__PURE__*/_jsx(\"span\",{children:this.state.isRegisteredValue?\"Login\":\"Complete Registration\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",this.state.message]})]})})]}),/*#__PURE__*/_jsxs(Link,{className:\"btn btn-default\",to:\"/\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-circle-arrow-left\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Continue Shopping\"})]})]})})})})});}}]);return Profile;}(React.Component);var mapStateToProps=function mapStateToProps(state){return getProfile(state);};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setProfile:function setProfile(id){dispatch(_setProfile(id));analytics.identify(id.userId,{firstName:id.firstName,lastName:id.lastName,username:id.userName});analytics.track('User Registered',{category:\"Account\"});}};};export default connect(mapStateToProps,mapDispatchToProps)(Profile);","map":{"version":3,"sources":["/Users/kal.kolacahill/Shopoholic-with-Segment/src/Containers/Profile.js"],"names":["React","connect","getProfile","setProfile","browserHistory","Link","btoa","Profile","props","onUsernameInputChange","e","usernameValue","target","value","setState","onPasswordInputChange","passwordValue","onFirstNameInputChange","firstNameValue","onLastNameInputChange","lastNameValue","handleSubmit","preventDefault","state","message","isLoginAction","isRegisteredValue","userId","username","password","firstName","lastName","isRegistered","isLoggedIn","push","bind","isLoggedInValue","Component","mapStateToProps","mapDispatchToProps","dispatch","id","analytics","identify","userName","track","category"],"mappings":"goBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,KAA2B,sBAA3B,CACA,OAASC,UAAU,GAAVA,CAAAA,WAAT,KAA2B,oBAA3B,CACA,OAASC,cAAT,KAA+B,cAA/B,CACA,OAASC,IAAT,KAAqB,cAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,C,2FAEMC,CAAAA,O,8GACJ,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EADiB,MAoBnBC,qBApBmB,CAoBK,SAACC,CAAD,CAAO,CAC7B,GAAMC,CAAAA,aAAa,CAAGD,CAAC,CAACE,MAAF,CAASC,KAA/B,CACA,MAAKC,QAAL,CAAc,CACZH,aAAa,CAAbA,aADY,CAAd,EAGD,CAzBkB,OA2BnBI,qBA3BmB,CA2BK,SAACL,CAAD,CAAO,CAC7B,GAAMM,CAAAA,aAAa,CAAGN,CAAC,CAACE,MAAF,CAASC,KAA/B,CACA,MAAKC,QAAL,CAAc,CACZE,aAAa,CAAbA,aADY,CAAd,EAGD,CAhCkB,OAkCnBC,sBAlCmB,CAkCM,SAACP,CAAD,CAAO,CAC9B,GAAMQ,CAAAA,cAAc,CAAGR,CAAC,CAACE,MAAF,CAASC,KAAhC,CACA,MAAKC,QAAL,CAAc,CACZI,cAAc,CAAdA,cADY,CAAd,EAGD,CAvCkB,OAyCnBC,qBAzCmB,CAyCK,SAACT,CAAD,CAAO,CAC7B,GAAMU,CAAAA,aAAa,CAAGV,CAAC,CAACE,MAAF,CAASC,KAA/B,CACA,MAAKC,QAAL,CAAc,CACZM,aAAa,CAAbA,aADY,CAAd,EAGD,CA9CkB,OAgDnBC,YAhDmB,CAgDJ,SAACX,CAAD,CAAO,CACpBA,CAAC,CAACY,cAAF,GACA,GAAI,CAAC,MAAKC,KAAL,CAAWZ,aAAZ,EACC,CAAC,MAAKY,KAAL,CAAWP,aADb,EAEC,CAAC,MAAKO,KAAL,CAAWL,cAFb,EAGC,CAAC,MAAKK,KAAL,CAAWH,aAHjB,CAGgC,CAC9B,MAAKN,QAAL,CAAc,CACZU,OAAO,CAAE,yBADG,CAAd,EAGA,OACD,CAED,GAAMC,CAAAA,aAAa,CAAG,MAAKF,KAAL,CAAWG,iBAAX,GAAiC,IAAvD,CAEA,GAAMC,CAAAA,MAAM,CAAG,CAAC,MAAKnB,KAAL,CAAWmB,MAAZ,CACXrB,IAAI,CAAC,MAAKiB,KAAL,CAAWZ,aAAZ,CADO,CAEX,MAAKH,KAAL,CAAWmB,MAFf,CAIA,MAAKnB,KAAL,CAAWL,UAAX,CAAsB,CACpByB,QAAQ,CAAE,MAAKL,KAAL,CAAWZ,aADD,CAEpBkB,QAAQ,CAAE,MAAKN,KAAL,CAAWP,aAFD,CAGpBc,SAAS,CAAE,MAAKP,KAAL,CAAWL,cAHF,CAIpBa,QAAQ,CAAE,MAAKR,KAAL,CAAWH,aAJD,CAKpBY,YAAY,CAAE,IALM,CAMpBC,UAAU,CAAER,aANQ,CAOpBE,MAAM,CAANA,MAPoB,CAAtB,EAUAvB,cAAc,CAAC8B,IAAf,CAAoB,GAApB,EAED,CA9EkB,CAGjB,MAAKX,KAAL,CAAa,CACXZ,aAAa,CAAEH,KAAK,CAACoB,QADV,CAEXZ,aAAa,CAAER,KAAK,CAACqB,QAFV,CAGXX,cAAc,CAAEV,KAAK,CAACsB,SAHX,CAIXV,aAAa,CAAEZ,KAAK,CAACuB,QAJV,CAKXL,iBAAiB,CAAElB,KAAK,CAACwB,YALd,CAMXR,OAAO,CAAE,EANE,CAAb,CASA,MAAKH,YAAL,CAAoB,MAAKA,YAAL,CAAkBc,IAAlB,+BAApB,CACA,MAAK1B,qBAAL,CAA6B,MAAKA,qBAAL,CAA2B0B,IAA3B,+BAA7B,CACA,MAAKpB,qBAAL,CAA6B,MAAKA,qBAAL,CAA2BoB,IAA3B,+BAA7B,CACA,MAAKlB,sBAAL,CAA8B,MAAKA,sBAAL,CAA4BkB,IAA5B,+BAA9B,CACA,MAAKhB,qBAAL,CAA6B,MAAKA,qBAAL,CAA2BgB,IAA3B,+BAA7B,CAhBiB,aAkBlB,C,0CA8DD,iBAAS,CACP,mBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,WAAf,uBACE,oCACE,cAAM,QAAQ,CAAE,KAAKd,YAArB,WAEG,CAAC,KAAKE,KAAL,CAAWG,iBAAZ,eACC,aAAK,SAAS,CAAC,UAAf,wBACE,aAAK,SAAS,CAAC,qBAAf,wBACE,cAAO,OAAO,CAAC,WAAf,wBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,IAAI,CAAC,WAHP,CAIE,KAAK,CAAE,KAAKH,KAAL,CAAWL,cAJpB,CAKE,QAAQ,CAAE,KAAKD,sBALjB,EAFF,GADF,cAWE,aAAK,SAAS,CAAC,qBAAf,wBACE,cAAO,OAAO,CAAC,UAAf,uBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAE,KAAKM,KAAL,CAAWH,aAJpB,CAKE,QAAQ,CAAE,KAAKD,qBALjB,EAFF,GAXF,GAHJ,CA4BG,CAAC,KAAKI,KAAL,CAAWU,UAAZ,eACC,aAAK,SAAS,CAAC,UAAf,wBACE,aAAK,SAAS,CAAC,qBAAf,wBACE,cAAO,OAAO,CAAC,UAAf,sBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAE,KAAKV,KAAL,CAAWZ,aAJpB,CAKE,QAAQ,CAAE,KAAKF,qBALjB,EAFF,GADF,cAWE,aAAK,SAAS,CAAC,qBAAf,wBACE,cAAO,OAAO,CAAC,UAAf,sBADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,cAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAE,KAAKM,qBAJjB,EAFF,GAXF,GA7BJ,CAoDG,CAAC,KAAKQ,KAAL,CAAWa,eAAZ,eACC,YAAK,SAAS,CAAC,UAAf,uBACE,aAAK,SAAS,CAAC,qBAAf,wBACE,eAAQ,SAAS,CAAC,iBAAlB,uBACE,sBACG,KAAKb,KAAL,CAAWG,iBAAX,CACG,OADH,CAEG,uBAHN,EADF,EADF,cAQE,4BAAQ,KAAKH,KAAL,CAAWC,OAAnB,GARF,GADF,EArDJ,GADF,cAqEE,MAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,CAAC,GAArC,wBACE,aAAM,SAAS,CAAC,uCAAhB,EADF,cAEE,4CAFF,GArEF,GADF,EADF,EADF,EADF,EADF,CAoFD,C,qBAtKmBxB,KAAK,CAACqC,S,EAyK5B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACf,KAAD,QAAWrB,CAAAA,UAAU,CAACqB,KAAD,CAArB,EAAxB,CAEA,GAAMgB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,QAAe,CACxCrC,UAAU,CAAE,oBAACsC,EAAD,CAAQ,CAClBD,QAAQ,CAACrC,WAAU,CAACsC,EAAD,CAAX,CAAR,CACAC,SAAS,CAACC,QAAV,CAAmBF,EAAE,CAACd,MAAtB,CACA,CACEG,SAAS,CAAEW,EAAE,CAACX,SADhB,CAEEC,QAAQ,CAAEU,EAAE,CAACV,QAFf,CAGEH,QAAQ,CAAEa,EAAE,CAACG,QAHf,CADA,EAMAF,SAAS,CAACG,KAAV,CAAgB,iBAAhB,CACA,CACEC,QAAQ,CAAE,SADZ,CADA,EAID,CAbuC,CAAf,EAA3B,CAgBA,cAAe7C,CAAAA,OAAO,CAACqC,eAAD,CAAkBC,kBAAlB,CAAP,CAA6ChC,OAA7C,CAAf","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getProfile } from \"../selectors/Profile\";\r\nimport { setProfile } from \"../actions/Profile\";\r\nimport { browserHistory } from \"react-router\";\r\nimport { Link } from \"react-router\";\r\nimport btoa from \"btoa\";\r\n\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      usernameValue: props.username,\r\n      passwordValue: props.password,\r\n      firstNameValue: props.firstName,\r\n      lastNameValue: props.lastName,\r\n      isRegisteredValue: props.isRegistered,\r\n      message: \"\",\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.onUsernameInputChange = this.onUsernameInputChange.bind(this);\r\n    this.onPasswordInputChange = this.onPasswordInputChange.bind(this);\r\n    this.onFirstNameInputChange = this.onFirstNameInputChange.bind(this);\r\n    this.onLastNameInputChange = this.onLastNameInputChange.bind(this);\r\n\r\n  }\r\n\r\n  onUsernameInputChange = (e) => {\r\n    const usernameValue = e.target.value;\r\n    this.setState({\r\n      usernameValue,\r\n    });\r\n  };\r\n\r\n  onPasswordInputChange = (e) => {\r\n    const passwordValue = e.target.value;\r\n    this.setState({\r\n      passwordValue,\r\n    });\r\n  };\r\n\r\n  onFirstNameInputChange = (e) => {\r\n    const firstNameValue = e.target.value;\r\n    this.setState({\r\n      firstNameValue,\r\n    });\r\n  };\r\n\r\n  onLastNameInputChange = (e) => {\r\n    const lastNameValue = e.target.value;\r\n    this.setState({\r\n      lastNameValue,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!this.state.usernameValue \r\n      || !this.state.passwordValue\r\n      || !this.state.firstNameValue\r\n      || !this.state.lastNameValue) {\r\n      this.setState({\r\n        message: \"All fields are required\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    const isLoginAction = this.state.isRegisteredValue === true;\r\n\r\n    const userId = !this.props.userId\r\n      ? btoa(this.state.usernameValue)\r\n      : this.props.userId;\r\n\r\n    this.props.setProfile({\r\n      username: this.state.usernameValue,\r\n      password: this.state.passwordValue,\r\n      firstName: this.state.firstNameValue,\r\n      lastName: this.state.lastNameValue,\r\n      isRegistered: true,\r\n      isLoggedIn: isLoginAction,\r\n      userId,\r\n    });\r\n\r\n    browserHistory.push(\"/\");\r\n\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"view-container\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n\r\n                  {!this.state.isRegisteredValue && (\r\n                    <div className=\"form-row\">\r\n                      <div className=\"form-group col-md-3\">\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          name=\"firstName\"\r\n                          value={this.state.firstNameValue}\r\n                          onChange={this.onFirstNameInputChange}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group col-md-3\">\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          name=\"lastName\"\r\n                          value={this.state.lastNameValue}\r\n                          onChange={this.onLastNameInputChange}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  \r\n                  {!this.state.isLoggedIn && (\r\n                    <div className=\"form-row\">\r\n                      <div className=\"form-group col-md-3\">\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          name=\"username\"\r\n                          value={this.state.usernameValue}\r\n                          onChange={this.onUsernameInputChange}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group col-md-3\">\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input\r\n                          type=\"password\"\r\n                          className=\"form-control\"\r\n                          name=\"password\"\r\n                          onChange={this.onPasswordInputChange}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {!this.state.isLoggedInValue && (\r\n                    <div className=\"form-row\">\r\n                      <div className=\"form-group col-md-3\">\r\n                        <button className=\"btn btn-primary\">\r\n                          <span>\r\n                            {this.state.isRegisteredValue\r\n                              ? \"Login\"\r\n                              : \"Complete Registration\"}\r\n                          </span>\r\n                        </button>\r\n                        <span> {this.state.message}</span>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                </form>\r\n                <Link className=\"btn btn-default\" to=\"/\">\r\n                  <span className=\"glyphicon glyphicon-circle-arrow-left\" />\r\n                  <span> Continue Shopping</span>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => getProfile(state);\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setProfile: (id) => {\r\n    dispatch(setProfile(id));\r\n    analytics.identify(id.userId,\r\n    {\r\n      firstName: id.firstName,\r\n      lastName: id.lastName,\r\n      username: id.userName,\r\n    });\r\n    analytics.track('User Registered',\r\n    {\r\n      category: \"Account\",\r\n    })\r\n  }\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n"]},"metadata":{},"sourceType":"module"}