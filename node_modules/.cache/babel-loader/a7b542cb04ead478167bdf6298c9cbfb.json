{"ast":null,"code":"import _classCallCheck from\"/Users/kal.kolacahill/Shopoholic WebApp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kal.kolacahill/Shopoholic WebApp/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kal.kolacahill/Shopoholic WebApp/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kal.kolacahill/Shopoholic WebApp/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{fetchPhones as _fetchPhones,fetchCategories as _fetchCategories}from\"../actions/Phones\";import{getPhones}from\"../selectors/Phones\";import{Link}from\"react-router\";import R from\"ramda\";import{addPhoneToBasket as _addPhoneToBasket}from\"../actions/Phones\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Phones=/*#__PURE__*/function(_React$Component){_inherits(Phones,_React$Component);var _super=_createSuper(Phones);function Phones(){var _this;_classCallCheck(this,Phones);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderPhone=function(phone,index){var addPhoneToBasket=_this.props.addPhoneToBasket;var shortDesc=\"\".concat(R.take(60,phone.description),\"...\");return/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-4 col-lg-4 col-md-4 book-list\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-thumbnail\",src:phone.image,alt:phone.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"caption\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"pull-right\",children:[\"$\",phone.price]}),/*#__PURE__*/_jsx(\"h4\",{children:phone.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",shortDesc]}),/*#__PURE__*/_jsxs(\"p\",{className:\"itemButton\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return addPhoneToBasket(phone);},children:\"Buy Now\"}),/*#__PURE__*/_jsx(Link,{to:\"/Phones/\".concat(phone.id),className:\"btn btn-default\",onClick:function onClick(){return moreInfo(phone);},children:\"More Info\"})]})]})]},index);};return _this;}_createClass(Phones,[{key:\"componentDidMount\",value:function componentDidMount(){window.analytics.page();this.props.fetchPhones();this.props.fetchCategories();}},{key:\"render\",value:function render(){var _this2=this;var phones=this.props.phones;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"books row\",children:phones.map(function(phone,index){return _this2.renderPhone(phone,index);})})});}}]);return Phones;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchPhones:function fetchPhones(){return dispatch(_fetchPhones());},addPhoneToBasket:function addPhoneToBasket(phone){dispatch(_addPhoneToBasket(phone.id));// track event for adding product to basket\nanalytics.track('Product Added',{name:phone.name,price:phone.price,cpu:phone.cpu,camera:phone.camera,size:phone.size,weight:phone.weight,display:phone.display,battery:phone.battery,memory:phone.memory});},fetchCategories:function fetchCategories(){return dispatch(_fetchCategories());}};};//ownProps are available here because this component is defined directly on route.\n//child componenets must include compose withRoutes\nvar mapStateToProps=function mapStateToProps(state,ownProps){return{phones:getPhones(state,ownProps)};};export default connect(mapStateToProps,mapDispatchToProps)(Phones);","map":{"version":3,"sources":["/Users/kal.kolacahill/Shopoholic WebApp/src/Containers/Phones.js"],"names":["React","connect","fetchPhones","fetchCategories","getPhones","Link","R","addPhoneToBasket","Phones","renderPhone","phone","index","props","shortDesc","take","description","image","name","price","id","moreInfo","window","analytics","page","phones","map","Component","mapDispatchToProps","dispatch","track","cpu","camera","size","weight","display","battery","memory","mapStateToProps","state","ownProps"],"mappings":"wdAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,WAAW,GAAXA,CAAAA,YAAT,CAAsBC,eAAe,GAAfA,CAAAA,gBAAtB,KAA6C,mBAA7C,CACA,OAASC,SAAT,KAA0B,qBAA1B,CACA,OAASC,IAAT,KAAqB,cAArB,CACA,MAAOC,CAAAA,CAAP,KAAc,OAAd,CACA,OAASC,gBAAgB,GAAhBA,CAAAA,iBAAT,KAAiC,mBAAjC,C,2FAEMC,CAAAA,M,uUAOJC,W,CAAc,SAACC,KAAD,CAAQC,KAAR,CAAkB,CAC9B,GAAQJ,CAAAA,gBAAR,CAA6B,MAAKK,KAAlC,CAAQL,gBAAR,CACA,GAAMM,CAAAA,SAAS,WAAMP,CAAC,CAACQ,IAAF,CAAO,EAAP,CAAWJ,KAAK,CAACK,WAAjB,CAAN,OAAf,CACA,mBACE,aAAK,SAAS,CAAC,sCAAf,wBACE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAEL,KAAK,CAACM,KAA1C,CAAiD,GAAG,CAAEN,KAAK,CAACO,IAA5D,EADF,EADF,cAIE,aAAK,SAAS,CAAC,SAAf,wBACE,YAAI,SAAS,CAAC,YAAd,eAA6BP,KAAK,CAACQ,KAAnC,GADF,cAEE,oBAAKR,KAAK,CAACO,IAAX,EAFF,cAGE,yBAAKJ,SAAL,GAHF,cAIE,WAAG,SAAS,CAAC,YAAb,wBACE,eACE,SAAS,CAAC,iBADZ,CAEE,OAAO,CAAE,yBAAMN,CAAAA,gBAAgB,CAACG,KAAD,CAAtB,EAFX,qBADF,cAQE,KAAC,IAAD,EACE,EAAE,mBAAaA,KAAK,CAACS,EAAnB,CADJ,CAEE,SAAS,CAAC,iBAFZ,CAGE,OAAO,CAAE,yBAAMC,CAAAA,QAAQ,CAACV,KAAD,CAAd,EAHX,uBARF,GAJF,GAJF,GAA2DC,KAA3D,CADF,CA4BD,C,mEArCD,4BAAoB,CAClBU,MAAM,CAACC,SAAP,CAAiBC,IAAjB,GACA,KAAKX,KAAL,CAAWV,WAAX,GACA,KAAKU,KAAL,CAAWT,eAAX,GACD,C,sBAmCD,iBAAS,iBACP,GAAQqB,CAAAA,MAAR,CAAmB,KAAKZ,KAAxB,CAAQY,MAAR,CACA,mBACE,kCACE,YAAK,SAAS,CAAC,WAAf,UACGA,MAAM,CAACC,GAAP,CAAW,SAACf,KAAD,CAAQC,KAAR,CAAkB,CAC5B,MAAO,CAAA,MAAI,CAACF,WAAL,CAAiBC,KAAjB,CAAwBC,KAAxB,CAAP,CACD,CAFA,CADH,EADF,EADF,CASD,C,oBAnDkBX,KAAK,CAAC0B,S,EAsD3B,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,QAAe,CACxC1B,WAAW,CAAE,6BAAM0B,CAAAA,QAAQ,CAAC1B,YAAW,EAAZ,CAAd,EAD2B,CAExCK,gBAAgB,CAAE,0BAACG,KAAD,CAAW,CAC3BkB,QAAQ,CAACrB,iBAAgB,CAACG,KAAK,CAACS,EAAP,CAAjB,CAAR,CACA;AACAG,SAAS,CAACO,KAAV,CAAgB,eAAhB,CACE,CACEZ,IAAI,CAAEP,KAAK,CAACO,IADd,CAEEC,KAAK,CAAER,KAAK,CAACQ,KAFf,CAGEY,GAAG,CAAEpB,KAAK,CAACoB,GAHb,CAIEC,MAAM,CAAErB,KAAK,CAACqB,MAJhB,CAKEC,IAAI,CAAEtB,KAAK,CAACsB,IALd,CAMEC,MAAM,CAAEvB,KAAK,CAACuB,MANhB,CAOEC,OAAO,CAAExB,KAAK,CAACwB,OAPjB,CAQEC,OAAO,CAAEzB,KAAK,CAACyB,OARjB,CASEC,MAAM,CAAE1B,KAAK,CAAC0B,MAThB,CADF,EAYD,CAjBuC,CAkBxCjC,eAAe,CAAE,iCAAMyB,CAAAA,QAAQ,CAACzB,gBAAe,EAAhB,CAAd,EAlBuB,CAAf,EAA3B,CAoBA;AACA;AACA,GAAMkC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAQC,QAAR,QAAsB,CAC5Cf,MAAM,CAAEpB,SAAS,CAACkC,KAAD,CAAQC,QAAR,CAD2B,CAAtB,EAAxB,CAIA,cAAetC,CAAAA,OAAO,CAACoC,eAAD,CAAkBV,kBAAlB,CAAP,CAA6CnB,MAA7C,CAAf","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchPhones, fetchCategories } from \"../actions/Phones\";\r\nimport { getPhones } from \"../selectors/Phones\";\r\nimport { Link } from \"react-router\";\r\nimport R from \"ramda\";\r\nimport { addPhoneToBasket } from \"../actions/Phones\";\r\n\r\nclass Phones extends React.Component {\r\n  componentDidMount() {\r\n    window.analytics.page();\r\n    this.props.fetchPhones();\r\n    this.props.fetchCategories();\r\n  }\r\n\r\n  renderPhone = (phone, index) => {\r\n    const { addPhoneToBasket } = this.props;\r\n    const shortDesc = `${R.take(60, phone.description)}...`;\r\n    return (\r\n      <div className=\"col-sm-4 col-lg-4 col-md-4 book-list\" key={index}>\r\n        <div className=\"thumbnail\">\r\n          <img className=\"img-thumbnail\" src={phone.image} alt={phone.name} />\r\n        </div>\r\n        <div className=\"caption\">\r\n          <h4 className=\"pull-right\">${phone.price}</h4>\r\n          <h4>{phone.name}</h4>\r\n          <p> {shortDesc}</p>\r\n          <p className=\"itemButton\">\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={() => addPhoneToBasket(phone)}\r\n            >\r\n              Buy Now\r\n            </button>\r\n\r\n            <Link \r\n              to={`/Phones/${phone.id}`} \r\n              className=\"btn btn-default\"\r\n              onClick={() => moreInfo(phone)}\r\n            >\r\n              More Info\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { phones } = this.props;\r\n    return (\r\n      <div>\r\n        <div className=\"books row\">\r\n          {phones.map((phone, index) => {\r\n            return this.renderPhone(phone, index);\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchPhones: () => dispatch(fetchPhones()),\r\n  addPhoneToBasket: (phone) => {\r\n    dispatch(addPhoneToBasket(phone.id))\r\n    // track event for adding product to basket\r\n    analytics.track('Product Added',\r\n      {\r\n        name: phone.name,\r\n        price: phone.price,\r\n        cpu: phone.cpu,\r\n        camera: phone.camera,\r\n        size: phone.size,\r\n        weight: phone.weight,\r\n        display: phone.display,\r\n        battery: phone.battery,\r\n        memory: phone.memory,\r\n      });   \r\n  },\r\n  fetchCategories: () => dispatch(fetchCategories()),\r\n});\r\n//ownProps are available here because this component is defined directly on route.\r\n//child componenets must include compose withRoutes\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  phones: getPhones(state, ownProps),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Phones);\r\n"]},"metadata":{},"sourceType":"module"}