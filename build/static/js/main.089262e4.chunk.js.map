{"version":3,"sources":["reducers/phone.js","reducers/PhonesPage.js","reducers/PhonePage.js","reducers/Coupon.js","reducers/Basket.js","reducers/Profile.js","reducers/Categories.js","store/configureStore.js","selectors/Phones.js","Containers/BasketCart.js","Containers/Categories.js","Containers/Newsletter.js","selectors/Profile.js","Containers/AccountButton.js","Containers/SideBar.js","Containers/Layout.js","api/mockPhones.js","api/mockCategories.js","api/fetchPhones.js","actions/Phones.js","Containers/Phones.js","Containers/Phone.js","Containers/Coupon.js","Containers/Basket.js","Containers/Profile.js","actions/Profile.js","index.js"],"names":["phoneInitialState","state","action","type","newValue","R","indexBy","prop","payload","merge","moreValues","assoc","id","initialState","ids","search","pluck","concat","console","log","intialState","invertedDiscount","code","append","without","of","username","password","firstName","lastName","isRegistered","isLoggedIn","userId","newVal","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","getPhonesById","phone","getActiveCategoryId","ownProps","path","getPhones","activeCategoryId","filter","item","contains","PhonesPage","when","always","equals","map","getTotalBasketPrice","Basket","reduce","total","Math","round","price","Coupon","getTotalBasketCount","length","getCategories","values","Categories","getBasketPhonesWithCount","uniqueIds","uniq","phones","basketId","connect","totalBasketCount","totalPrice","props","to","className","title","withRouter","categories","linkClass","classNames","active","isNil","renderAllCategory","category","index","getActiveState","propEq","name","renderCategory","Newsletter","handleSubmit","e","preventDefault","analytics","identify","email","emailValue","group","group_id_number","track","alert","onNewsletterInputChange","target","value","setState","bind","onSubmit","this","searchValue","onChange","React","Component","undefined","dispatch","getProfile","Profile","AccountButton","SideBar","Layout","children","categoryId","brand","description","image","cpu","camera","size","weight","display","battery","memory","fetchPhones","a","Promise","resolve","fetchPhoneById","reject","find","fetchCategories","mockCategories","addPhoneToBasket","Phones","renderPhone","shortDesc","take","src","alt","onClick","moreInfo","page","label","fetchPhonesApi","error","getState","fetchCategoriesApi","Phone","componentDidMount","params","renderFields","toPairs","pick","key","renderContent","renderSideBar","PhonePage","fetchPhoneByIdApi","couponCode","message","applyDiscount","onCouponCodeInputChange","removePhoneFromBasket","cleanBasket","basketCheckout","b","JSON","stringify","orderId","random","toString","substring","order_id","products","isBasketEmpty","isEmpty","count","not","onUsernameInputChange","usernameValue","onPasswordInputChange","passwordValue","onFirstNameInputChange","firstNameValue","onLastNameInputChange","lastNameValue","isLoginAction","isRegisteredValue","btoa","setProfile","browserHistory","push","htmlFor","isLoggedInValue","profile","userName","store","createStore","combineReducers","routing","routerReducer","phoneReducer","applyMiddleware","thunk","history","syncHistoryWithStore","jsx","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.089262e4.chunk.js","sourcesContent":["import R from \"ramda\";\r\n\r\nconst phoneInitialState = {};\r\n\r\nexport default (state = phoneInitialState, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_PHONE_SUCCESS\": {\r\n      const newValue = R.indexBy(R.prop(\"id\"), action.payload);\r\n      return R.merge(state, newValue);\r\n    }\r\n    case \"LOAD_MORE_SUCCESS\": {\r\n      const moreValues = R.indexBy(R.prop(\"id\"), action.payload);\r\n      return R.merge(state, moreValues);\r\n    }\r\n    case \"FETCH_PHONE_BY_ID_SUCCESS\": {\r\n      return R.assoc(action.payload.id, action.payload, state);\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import R from \"ramda\";\r\n\r\nconst initialState = {\r\n  ids: [],\r\n  search: \"\",\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_PHONE_SUCCESS\":\r\n      return R.merge(state, {\r\n        ids: R.pluck(\"id\", action.payload),\r\n      });\r\n    case \"LOAD_MORE_SUCCESS\": {\r\n      const ids = R.pluck(\"id\", action.payload);\r\n      return R.merge(state, {\r\n        ids: R.concat(ids, state.ids),\r\n      });\r\n    }\r\n    case \"SEARCH_PHONE\": {\r\n      console.log(\"text to be searched is \", action.payload);\r\n      return R.merge(state, {\r\n        search: action.payload,\r\n      });\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import R from \"ramda\";\r\n\r\nconst intialState = {\r\n  id: null,\r\n};\r\n\r\nexport default (state = intialState, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_PHONE_BY_ID_SUCCESS\":\r\n      return R.merge(state, {\r\n        id: R.prop(\"id\", action.payload),\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = { invertedDiscount: 1, code: \"\" };\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case \"APPLY_COUPON_CODE\":\n      state = action.payload;\n      return state;\n    default:\n      return state;\n  }\n};\n","import R from \"ramda\";\r\nconst initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_PHONE_TO_BASKET\":\r\n      return R.append(action.payload, state);\r\n    case \"REMOVE_PHONE_FROM_BASKET\":\r\n      return R.without(R.of(action.payload), state);\r\n    case \"CLEAN_BASKET\":\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {\n  username: \"\",\n  password: \"\",\n  firstName: \"\",\n  lastName: \"\",\n  isRegistered: false,\n  isLoggedIn: false,\n  userId: \"\",\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_PROFILE\":\n      state = action.payload;\n      return state;\n    default:\n      return state;\n  }\n};\n","import R from \"ramda\";\r\n\r\nconst initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_CATEGORIES_SUCCESS\":\r\n      const newVal = R.indexBy(R.prop(\"id\"), action.payload);\r\n      return R.merge(state, newVal);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport phoneReducer from \"../reducers/phone\";\r\nimport PhonesPage from \"../reducers/PhonesPage\";\r\nimport PhonePage from \"../reducers/PhonePage\";\r\nimport Coupon from \"../reducers/Coupon\";\r\nimport { routerReducer } from \"react-router-redux\";\r\nimport Basket from \"../reducers/Basket\";\r\nimport Profile from \"../reducers/Profile\";\r\nimport Categories from \"../reducers/Categories\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default () => {\r\n  const store = createStore(\r\n    combineReducers({\r\n      routing: routerReducer,\r\n      phone: phoneReducer,\r\n      PhonesPage: PhonesPage,\r\n      PhonePage: PhonePage,\r\n      Basket: Basket,\r\n      Coupon: Coupon,\r\n      Categories: Categories,\r\n      Profile: Profile,\r\n    }),\r\n    composeEnhancers(applyMiddleware(thunk))\r\n  );\r\n  return store;\r\n};\r\n","import R from \"ramda\";\r\n\r\nexport const getPhonesById = (state, id) => R.prop(id, state.phone);\r\n\r\nexport const getActiveCategoryId = (ownProps) => {\r\n  // console.log(\"ownProps \" , ownProps);\r\n  return R.path([\"params\", \"id\"], ownProps);\r\n};\r\n\r\nexport const getPhones = (state, ownProps) => {\r\n  // const phones = R.map(id=>getPhonesById(state,id),state.PhonesPage.ids);\r\n  // return phones;\r\n\r\n  const activeCategoryId = getActiveCategoryId(ownProps);\r\n  // console.log(\"activeCategoryId \" , activeCategoryId);\r\n  const applyCategory = (item) => {\r\n    // console.log(\"Item \", item);\r\n    return R.equals(activeCategoryId, R.prop(\"categoryId\", item));\r\n  };\r\n  const applySearch = (item) => {\r\n    return R.contains(state.PhonesPage.search, R.prop(\"name\", item));\r\n  };\r\n  const phones = R.compose(\r\n    R.filter(applySearch),\r\n    R.when(R.always(activeCategoryId), R.filter(applyCategory)),\r\n    R.map((id) => getPhonesById(state, id))\r\n  )(state.PhonesPage.ids);\r\n  return phones;\r\n};\r\n\r\nexport const getRenderedPhonesLength = (state) =>\r\n  R.length(state.PhonesPage.ids);\r\n\r\nexport const getTotalBasketPrice = (state) => {\r\n  const phones = R.map((id) => getPhonesById(state, id), state.Basket);\r\n  let total = 0;\r\n  return phones.reduce((total, phone) => {\r\n    return (\r\n      Math.round((total + phone.price) * state.Coupon.invertedDiscount * 100) /\r\n      100\r\n    );\r\n  }, total);\r\n};\r\n\r\nexport const getTotalBasketCount = (state) => {\r\n  return state.Basket.length;\r\n};\r\n\r\nexport const getCategories = (state) => {\r\n  // console.log(\" fething categories from state \" ,R.values(state.Categories));\r\n  return R.values(state.Categories);\r\n};\r\n\r\nexport const getBasketPhonesWithCount = (state) => {\r\n  const uniqueIds = R.uniq(state.Basket);\r\n\r\n  const phoneCount = (id) => {\r\n    return R.compose(\r\n      R.length,\r\n      R.filter((basketId) => R.equals(id, basketId))\r\n    )(state.Basket);\r\n  };\r\n  const phoneWithCount = (phone) => {\r\n    return R.assoc(\"count\", phoneCount(phone.id), phone);\r\n  };\r\n  const phones = R.compose(\r\n    R.map(phoneWithCount),\r\n    R.map((id) => getPhonesById(state, id))\r\n  )(uniqueIds);\r\n  console.log(\"Phones in basket are \", phones);\r\n  return phones;\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { getTotalBasketCount, getTotalBasketPrice } from \"../selectors/Phones\";\r\n\r\nexport const BasketCart = (props) => {\r\n  const { totalBasketCount, totalPrice } = props;\r\n  return (\r\n    <Link to=\"/basket\" id=\"dLabel\">\r\n      <button className=\"btn btn-default btn-block\" title=\"View Basket\">\r\n        <span className=\"glyphicon glyphicon-shopping-cart\" />\r\n        {\" : \"}\r\n        {totalBasketCount} item(s) (${totalPrice})\r\n      </button>\r\n    </Link>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  totalBasketCount: getTotalBasketCount(state),\r\n  totalPrice: getTotalBasketPrice(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(BasketCart);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getCategories, getActiveCategoryId } from \"../selectors/Phones\";\r\nimport { Link, withRouter } from \"react-router\";\r\nimport { compose } from \"redux\";\r\nimport classNames from \"classnames\";\r\nimport R from \"ramda\";\r\n\r\nconst Categories = (props) => {\r\n  const { categories, activeCategoryId } = props;\r\n  // console.log(\" activeCategoryId \" , activeCategoryId);\r\n  const renderCategory = (category, index) => {\r\n    const getActiveState = R.propEq(\"id\", activeCategoryId);\r\n    const linkClass = classNames({\r\n      \"list-group-item\": true,\r\n      active: getActiveState(category),\r\n    });\r\n    return (\r\n      <Link to={`/categories/${category.id}`} className={linkClass} key={index}>\r\n        {category.name}\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  const renderAllCategory = () => {\r\n    const linkClass = classNames({\r\n      \"list-group-item\": true,\r\n      active: R.isNil(activeCategoryId),\r\n    });\r\n\r\n    return (\r\n      <Link to=\"/\" className={linkClass}>\r\n        All\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"well\">\r\n      <span className=\"lead\">Brand Filter</span>\r\n      <div className=\"list-group\">\r\n        {renderAllCategory()}\r\n        {categories.map((category, index) => {\r\n          // console.log(category);\r\n          return renderCategory(category, index);\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  categories: getCategories(state),\r\n  activeCategoryId: getActiveCategoryId(ownProps),\r\n});\r\n\r\nexport default compose(withRouter, connect(mapStateToProps))(Categories);\r\n// export default connect(mapStateToProps)(Categories);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Newsletter extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      emailValue: \"\",\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.onNewsletterInputChange = this.onNewsletterInputChange.bind(this);\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // fire Segment identify() event\r\n    analytics.identify(\"\", {\r\n      email: this.state.emailValue,\r\n    });\r\n\r\n    analytics.group(\"000111a\", {\r\n      group_id_number: \"000111a\",\r\n      name: \"Email Group\",\r\n    })\r\n\r\n    analytics.track(\"Newsletter Subscribed\", {\r\n      email: this.state.emailValue,\r\n      category: \"Newsletter\",\r\n    });\r\n\r\n    alert(\"Thank you for subscribing dude, \" + this.state.emailValue + \"!\");\r\n  };\r\n\r\n  onNewsletterInputChange = (e) => {\r\n    const emailValue = e.target.value;\r\n    this.setState({\r\n      emailValue,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"well blosd\">\r\n        <span className=\"lead\">Newsletter Subscription</span>\r\n\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"input-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={this.state.searchValue}\r\n              onChange={this.onNewsletterInputChange}\r\n            />\r\n            <span className=\"input-group-btn\">\r\n              <button className=\"btn btn-default\">\r\n                <span className=\"glyphicon glyphicon-envelope\" />\r\n              </button>\r\n            </span>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({});\r\n\r\nexport default connect(undefined, mapDispatchToProps)(Newsletter);\r\n","export const getProfile = (state) => {\r\n  return state.Profile;\r\n};\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getProfile } from \"../selectors/Profile\";\nimport { Link } from \"react-router\";\n\nclass AccountButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoggedIn: props.isLoggedIn,\n      isRegistered: props.isRegistered,\n      username: props.username,\n      firstName: props.firstName,\n      lastName: props.lastName,\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"itemButton\">\n        {!this.state.isLoggedIn && (\n        <Link to=\"/profile\" id=\"dLabel\">\n          <button\n            className=\"btn btn-default btn-block\"\n          >\n          <span className=\"glyphicon glyphicon-user\" /> \n          \n            {(!this.state.isLoggedIn \n              && !this.state.isRegistered) \n              ? 'Register' : 'Sign In'}\n\n          </button>\n        </Link>\n        )}\n\n        {this.state.isLoggedIn && (\n        <div>\n          Hi {this.state.firstName} {this.state.lastName}\n        </div>\n        )}\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => getProfile(state);\n\nexport default connect(mapStateToProps)(AccountButton);\n","import React from \"react\";\r\nimport BasketCart from \"./BasketCart\";\r\nimport Categories from \"./Categories\";\r\nimport Newsletter from \"./Newsletter\";\r\nimport AccountButton from \"./AccountButton\";\r\n\r\nexport const SideBar = () => {\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        <BasketCart />\r\n      </div>\r\n      \r\n      <div className=\"row\">\r\n        <AccountButton />\r\n      </div>\r\n      <br />\r\n\r\n      <Categories />\r\n      <Newsletter />\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport {SideBar} from './SideBar';\r\n\r\n\r\nconst Layout = ({children})=>{\r\n    return (\r\n        <div className=\"view-container\">\r\n            <div className=\"container\">   \r\n                <div className=\"row\">\r\n                    <div className=\"col-md-3\">\r\n                        <SideBar/>\r\n                    </div>\r\n                    <div className=\"col-md-9\">\r\n                        {children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Layout;","export default [\r\n    {\r\n      id: \"1\",\r\n      categoryId: \"1\",\r\n      name: \"Apple iPhone 5c\",\r\n      brand: \"Apple\",\r\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta\",\r\n      price: 823,\r\n      image: \"/uploads/iphone5c-selection-hero-2013.png\",\r\n      cpu: \"1.3GHz Apple A6\",\r\n      camera: \"8mp (3264x2448)\",\r\n      size: \"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)\",\r\n      weight: \"132 grams (4.7 ounces) with battery\",\r\n      display: \"4.0 326 pixel density\",\r\n      battery: \"1480 mAh\",\r\n      memory: \"16GB, 32GB and RAM 1 GB\"\r\n    },\r\n    {\r\n      id: \"2\",\r\n      categoryId: \"1\",\r\n      name: \"Apple iPhone 6\",\r\n      brand: \"Apple\",\r\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta\",\r\n      price: 953,\r\n      image: \"/uploads/51u6y9Rm8QL._SY300_.jpg\",\r\n      cpu: \"1.3GHz Apple A6\",\r\n      camera: \"8mp (3264x2448)\",\r\n      size: \"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)\",\r\n      weight: \"132 grams (4.7 ounces) with battery\",\r\n      display: \"4.0 326 pixel density\",\r\n      battery: \"1480 mAh\",\r\n      memory: \"16GB, 32GB and RAM 1 GB\"\r\n    },\r\n    {\r\n      id: \"3\",\r\n      categoryId: \"4\",\r\n      name: \"Lenovo A6000\",\r\n      brand: \"Lenovo\",\r\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta\",\r\n      price: 764,\r\n      image: \"/uploads/_35%20(1).JPG\",\r\n      cpu: \"1.3GHz Apple A6\",\r\n      camera: \"8mp (3264x2448)\",\r\n      size: \"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)\",\r\n      weight: \"132 grams (4.7 ounces) with battery\",\r\n      display: \"4.0 326 pixel density\",\r\n      battery: \"1480 mAh\",\r\n      memory: \"16GB, 32GB and RAM 1 GB\"\r\n    },\r\n    {\r\n      id: \"4\",\r\n      categoryId: \"5\",\r\n      name: \"Nokia Lumia 1520\",\r\n      brand: \"Nokia\",\r\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta\",\r\n      price: 674,\r\n      image: \"/uploads/Lumia1520-Front-Back-png.png\",\r\n      cpu: \"1.3GHz Apple A6\",\r\n      camera: \"8mp (3264x2448)\",\r\n      size: \"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)\",\r\n      weight: \"132 grams (4.7 ounces) with battery\",\r\n      display: \"4.0 326 pixel density\",\r\n      battery: \"1480 mAh\",\r\n      memory: \"16GB, 32GB and RAM 1 GB\"\r\n    },\r\n    {\r\n      id: \"5\",\r\n      categoryId: \"3\",\r\n      name: \"HTC One\",\r\n      brand: \"HTC\",\r\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta\",\r\n      price: 674,\r\n      image: \"/uploads/htc-one-m7-802w-dual-sim-silver.jpg\",\r\n      cpu: \"1.3GHz Apple A6\",\r\n      camera: \"8mp (3264x2448)\",\r\n      size: \"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)\",\r\n      weight: \"132 grams (4.7 ounces) with battery\",\r\n      display: \"4.0 326 pixel density\",\r\n      battery: \"1480 mAh\",\r\n      memory: \"16GB, 32GB and RAM 1 GB\"\r\n    },\r\n    {\r\n      id: \"6\",\r\n      categoryId: \"2\",\r\n      name: \"Samsung Galaxy S6\",\r\n      brand: \"Samsung\",\r\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta\",\r\n      price: 674,\r\n      image: \"/uploads/Agnes_Case_for_Samsung_Galaxy_S6_(1)__92643_thumb.jpg\",\r\n      cpu: \"1.3GHz Apple A6\",\r\n      camera: \"8mp (3264x2448)\",\r\n      size: \"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)\",\r\n      weight: \"132 grams (4.7 ounces) with battery\",\r\n      display: \"4.0 326 pixel density\",\r\n      battery: \"1480 mAh\",\r\n      memory: \"16GB, 32GB and RAM 1 GB\"\r\n    }\r\n  ]\r\n  ","export default [\r\n    {\r\n      id: \"1\",\r\n      name: 'Apple'\r\n    },\r\n    {\r\n      id: \"2\",\r\n      name: 'Samsung'\r\n    },\r\n    {\r\n      id: \"3\",\r\n      name: 'Htc'\r\n    },\r\n    {\r\n      id: \"4\",\r\n      name: 'Lenovo'\r\n    },\r\n    {\r\n      id: \"5\",\r\n      name: 'Microsoft'\r\n    }\r\n  ]\r\n  ","import phones from \"./mockPhones\";\r\nimport R from \"ramda\";\r\nimport mockCategories from \"./mockCategories\";\r\n\r\nexport const fetchPhones = async () => {\r\n  return new Promise((resolve) => {\r\n    resolve(phones);\r\n  });\r\n\r\n  // const {body} = await request.get('http://www.mocky.io/v2/5918b9461200001f1040dbeb');\r\n  // return body.phones;\r\n};\r\n\r\nexport const loadMore = async ({ offset }) => {\r\n  return new Promise((resolve) => {\r\n    resolve(phones);\r\n  });\r\n};\r\n\r\nexport const fetchPhoneById = async (id) => {\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Id in api fetchPhones \", id);\r\n    const phone = R.find(R.propEq(\"id\", id), phones);\r\n    resolve(phone);\r\n  });\r\n};\r\n\r\nexport const fetchCategories = async () => {\r\n  return new Promise((resolve) => {\r\n    resolve(mockCategories);\r\n  });\r\n};\r\n","import {\r\n  fetchPhones as fetchPhonesApi,\r\n  loadMore as loadMoreApi,\r\n  fetchPhoneById as fetchPhoneByIdApi,\r\n  fetchCategories as fetchCategoriesApi,\r\n} from \"../api/fetchPhones\";\r\nimport { getRenderedPhonesLength } from \"../selectors/Phones\";\r\n\r\nexport const applyDiscount = (invertedDiscount, code) => (dispatch) => {\r\n  dispatch({\r\n    type: \"APPLY_COUPON_CODE\",\r\n    payload: { invertedDiscount, code },\r\n  });\r\n};\r\n\r\nexport const fetchPhones = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch({\r\n        type: \"FETCH_PHONE_START\",\r\n      });\r\n      const phones = await fetchPhonesApi();\r\n      dispatch({\r\n        type: \"FETCH_PHONE_SUCCESS\",\r\n        payload: phones,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: \"FETCH_PHONE_FAIL\",\r\n        payload: err,\r\n        error: true,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchCategories = () => {\r\n  return async (dispatch, getState) => {\r\n    // console.log(\"Fetching entire state \", getState());\r\n    try {\r\n      dispatch({\r\n        type: \"FETCH_CATEGORIES_START\",\r\n      });\r\n      const categories = await fetchCategoriesApi();\r\n      dispatch({\r\n        type: \"FETCH_CATEGORIES_SUCCESS\",\r\n        payload: categories,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: \"FETCH_CATEGORIES_FAILURE\",\r\n        payload: err,\r\n        error: true,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const loadMore = () => {\r\n  return async (dispatch, getState) => {\r\n    const offset = getRenderedPhonesLength(getState());\r\n    try {\r\n      dispatch({\r\n        type: \"LOAD_MORE_START\",\r\n      });\r\n      const phones = await loadMoreApi({ offset });\r\n      dispatch({\r\n        type: \"LOAD_MORE_SUCCESS\",\r\n        payload: phones,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: \"LOAD_MORE_FAILURE\",\r\n        payload: err,\r\n        error: true,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchPhoneById = (id) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: \"FETCH_PHONE_BY_ID_START\",\r\n      });\r\n      const phone = await fetchPhoneByIdApi(id);\r\n      dispatch({\r\n        type: \"FETCH_PHONE_BY_ID_SUCCESS\",\r\n        payload: phone,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: \"FETCH_PHONE_BY_ID_FAILURE\",\r\n        payload: err,\r\n        error: true,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const addPhoneToBasket = (id) => (dispatch) => {\r\n  dispatch({\r\n    type: \"ADD_PHONE_TO_BASKET\",\r\n    payload: id,\r\n  });\r\n};\r\n\r\nexport const searchPhone = (text) => (dispatch) => {\r\n  console.log(\"searching \", text);\r\n  dispatch({\r\n    type: \"SEARCH_PHONE\",\r\n    payload: text,\r\n  });\r\n};\r\n\r\nexport const removePhoneFromBasket = (id) => async (dispatch) => {\r\n  dispatch({\r\n    type: \"REMOVE_PHONE_FROM_BASKET\",\r\n    payload: id,\r\n  });\r\n};\r\n\r\nexport const cleanBasket = () => (dispatch) => {\r\n  dispatch({\r\n    type: \"CLEAN_BASKET\",\r\n  });\r\n};\r\n\r\nexport const basketCheckout = (phones) => (dispatch, getState) => {\r\n  const { code: coupon, invertedDiscount } = getState().Coupon;\r\n  const revenue = phones.reduce(\r\n    (a, b) => a + (b.price * invertedDiscount || 0),\r\n    0\r\n  );\r\n\r\n  alert(JSON.stringify(phones));\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchPhones, fetchCategories } from \"../actions/Phones\";\r\nimport { getPhones } from \"../selectors/Phones\";\r\nimport { Link } from \"react-router\";\r\nimport R from \"ramda\";\r\nimport { addPhoneToBasket } from \"../actions/Phones\";\r\n\r\nclass Phones extends React.Component {\r\n  componentDidMount() {\r\n    window.analytics.page(\"Phones\");\r\n    this.props.fetchPhones();\r\n    this.props.fetchCategories();\r\n  }\r\n\r\n  renderPhone = (phone, index) => {\r\n    const { addPhoneToBasket } = this.props;\r\n    const shortDesc = `${R.take(60, phone.description)}...`;\r\n    return (\r\n      <div className=\"col-sm-4 col-lg-4 col-md-4 book-list\" key={index}>\r\n        <div className=\"thumbnail\">\r\n          <img className=\"img-thumbnail\" src={phone.image} alt={phone.name} />\r\n        </div>\r\n        <div className=\"caption\">\r\n          <h4 className=\"pull-right\">${phone.price}</h4>\r\n          <h4>{phone.name}</h4>\r\n          <p> {shortDesc}</p>\r\n          <p className=\"itemButton\">\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={() => addPhoneToBasket(phone)}\r\n            >\r\n              Buy Now\r\n            </button>\r\n\r\n            <Link \r\n              to={`/Phones/${phone.id}`} \r\n              className=\"btn btn-default\"\r\n              onClick={() => moreInfo(phone)}\r\n            >\r\n              More Info\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { phones } = this.props;\r\n    return (\r\n      <div>\r\n        <div className=\"books row\">\r\n          {phones.map((phone, index) => {\r\n            return this.renderPhone(phone, index);\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchPhones: () => dispatch(fetchPhones()),\r\n  addPhoneToBasket: (phone) => {\r\n    dispatch(addPhoneToBasket(phone.id))\r\n    // track event for adding product to basket\r\n    analytics.track('Product Added',\r\n      {\r\n        name: phone.name,\r\n        price: phone.price,\r\n        cpu: phone.cpu,\r\n        camera: phone.camera,\r\n        size: phone.size,\r\n        weight: phone.weight,\r\n        display: phone.display,\r\n        battery: phone.battery,\r\n        memory: phone.memory,\r\n        category: \"Products\",\r\n        label: phone.name,\r\n      });   \r\n  },\r\n  fetchCategories: () => dispatch(fetchCategories()),\r\n});\r\n//ownProps are available here because this component is defined directly on route.\r\n//child componenets must include compose withRoutes\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  phones: getPhones(state, ownProps),\r\n});\r\n\r\nfunction moreInfo(phone) {\r\n  // call Segment track() event for product clicked\r\n  analytics.track(\"Product Clicked\", {\r\n    name: phone.name,\r\n    brand: phone.brand,\r\n    category: \"Products\",\r\n    label: phone.name,\r\n  });\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Phones);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchPhoneById, addPhoneToBasket } from \"../actions/Phones\";\r\nimport { getPhonesById } from \"../selectors/Phones\";\r\nimport R from \"ramda\";\r\nimport BasketCart from \"./BasketCart\";\r\nimport { Link } from \"react-router\";\r\n\r\nclass Phone extends React.Component {\r\n  componentDidMount = () => {\r\n    window.analytics.page(\"Phone Info\");\r\n    this.props.fetchPhoneById(this.props.params.id);\r\n  };\r\n\r\n  renderFields = () => {\r\n    const { phone } = this.props;\r\n    const columnFields = R.compose(\r\n      R.toPairs,\r\n      R.pick([\r\n        \"brand\",\r\n        \"cpu\",\r\n        \"camera\",\r\n        \"size\",\r\n        \"weight\",\r\n        \"display\",\r\n        \"battery\",\r\n        \"memory\",\r\n      ])\r\n    )(phone);\r\n    // console.log(\"columnFields \", columnFields);\r\n    return columnFields.map(([key, value]) => {\r\n      return (\r\n        <div className=\"column\" key={key}>\r\n          <div className=\"ab-details-title\">\r\n            <p> {key} </p>\r\n          </div>\r\n          <div className=\"ab-details-info\">\r\n            <p> {value} </p>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  renderContent = () => {\r\n    const { phone } = this.props;\r\n    return (\r\n      <div>\r\n        <div className=\"thumbnail\">\r\n          <div className=\"col-md-6\">\r\n            <img className=\"img-thumbnail\" src={phone.image} alt={phone.name} />\r\n          </div>\r\n          <div className=\"col-md-6\">{this.renderFields()}</div>\r\n        </div>\r\n        <div className=\"caption-full\">\r\n          <h4 className=\"pull-right\">${phone.price}</h4>\r\n          <h4>{phone.name}</h4>\r\n          <p>{phone.description}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderSideBar = () => {\r\n    const { phone, addPhoneToBasket } = this.props;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <p className=\"lead\"> Quick Shop</p>\r\n          <BasketCart />\r\n          <div className=\"form-group\">\r\n            <h1>{phone.name}</h1>\r\n            <h2>{phone.price}</h2>\r\n          </div>\r\n        </div>\r\n        <Link to=\"/\" className=\"btn btn-info btn-block\">\r\n          Back to Store\r\n        </Link>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-success btn-block\"\r\n          onClick={() => addPhoneToBasket(phone)}\r\n        >\r\n          Add To Cart\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    // console.log(this.props.phone);\r\n    const { phone } = this.props;\r\n    return (\r\n      <div className=\"view-container\">\r\n        <div className=\"container\">\r\n          <div className=\"col-md-9\">{phone && this.renderContent()}</div>\r\n          <div className=\"col-md-3\">{phone && this.renderSideBar()}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default Phone;\r\nconst mapDispatchtoProps = (dispatch) => ({\r\n  fetchPhoneById: (id) => {\r\n    dispatch(fetchPhoneById(id));\r\n  },\r\n  addPhoneToBasket: (phone) => {\r\n    dispatch(addPhoneToBasket(phone.id));\r\n    // track event for adding product to basket\r\n    analytics.track('Product Added',\r\n      {\r\n        name: phone.name,\r\n        price: phone.price,\r\n        cpu: phone.cpu,\r\n        camera: phone.camera,\r\n        size: phone.size,\r\n        weight: phone.weight,\r\n        display: phone.display,\r\n        battery: phone.battery,\r\n        memory: phone.memory,\r\n        category: \"Products\",\r\n        label: phone.name,\r\n      });\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  phone: getPhonesById(state, state.PhonePage.id),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchtoProps)(Phone);\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { applyDiscount } from \"../actions/Phones\";\n\nclass Coupon extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      couponCode: \"\",\n      message: \"\",\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onCouponCodeInputChange = this.onCouponCodeInputChange.bind(this);\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.couponCode === \"SUPER-10\") {\n      this.setState({\n        couponCode: this.state.couponCode,\n        message: \"10% discount applied\",\n      });\n      this.props.applyDiscount(0.9, this.state.couponCode);\n    } else\n      this.setState({\n        couponCode: this.state.couponCode,\n        message: \"Invalid Coupon Code\",\n      });\n  };\n\n  onCouponCodeInputChange = (e) => {\n    const couponCode = e.target.value;\n    this.setState({\n      couponCode,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"well blosd\">\n        <span className=\"lead\">Apply Coupon Code</span>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"input-group\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              value={this.state.couponCode}\n              onChange={this.onCouponCodeInputChange}\n            />\n            <span className=\"input-group-btn\">\n              <button className=\"btn btn-default\">\n                <span className=\"glyphicon glyphicon-gift\" />\n              </button>\n            </span>\n          </div>\n        </form>\n        {this.state.message}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  applyDiscount: (invertedDiscount, code) =>\n    dispatch(applyDiscount(invertedDiscount, code)),\n});\n\nexport default connect(undefined, mapDispatchToProps)(Coupon);\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getTotalBasketPrice,\r\n  getBasketPhonesWithCount,\r\n} from \"../selectors/Phones\";\r\nimport R from \"ramda\";\r\nimport {\r\n  removePhoneFromBasket,\r\n  cleanBasket,\r\n  basketCheckout,\r\n} from \"../actions/Phones\";\r\nimport { Link } from \"react-router\";\r\nimport Coupon from \"./Coupon\";\r\n\r\nconst Basket = ({\r\n  phones,\r\n  totalPrice,\r\n  removePhoneFromBasket,\r\n  cleanBasket,\r\n  basketCheckout,\r\n  orderId,\r\n}) => {\r\n  // Segment page() call\r\n  analytics.page(\"Basket\");\r\n  const isBasketEmpty = R.isEmpty(phones);\r\n  const renderContent = () => {\r\n    return (\r\n      <div>\r\n        {isBasketEmpty && <div> Your shopping cart is empty </div>}\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table-bordered table-striped table-condensed cf\">\r\n            <tbody>\r\n              {phones.map((phone, index) => (\r\n                <tr key={index} className=\"item-checout\">\r\n                  <td className=\"first-column-checkout\">\r\n                    <img\r\n                      className=\"img-thumbnail\"\r\n                      src={phone.image}\r\n                      alt={phone.name}\r\n                    />\r\n                  </td>\r\n                  <td>{phone.name}</td>\r\n                  <td>${phone.price}</td>\r\n                  <td>{phone.count}</td>\r\n                  <td>\r\n                    <span\r\n                      className=\"glyphicon glyphicon-remove\"\r\n                      onClick={() => removePhoneFromBasket(phone.id)}\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        {R.not(isBasketEmpty) && (\r\n          <div className=\"row\">\r\n            <div className=\"pull-right total-user-checkout\">\r\n              <b>Total:</b>${totalPrice}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSidebar = () => {\r\n    return (\r\n      <div>\r\n        <Coupon />\r\n        {R.not(isBasketEmpty) && (\r\n          <div>\r\n            <button className=\"btn btn-danger\" onClick={() => cleanBasket()}>\r\n              <span className=\"glyphicon glyphicon-trash\" />\r\n              Clean Cart\r\n            </button>\r\n            <button\r\n              className=\"btn btn-success\"\r\n              onClick={() => basketCheckout(phones, totalPrice)}\r\n            >\r\n              <span className=\"glyphicon glyphicon-envelope\" />\r\n              Checkout\r\n            </button>\r\n          </div>\r\n        )}\r\n        <Link className=\"btn btn-default\" to=\"/\">\r\n          <span className=\"glyphicon glyphicon-circle-arrow-left\" />\r\n          <span> Continue Shopping</span>\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"view-container\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-9\">{renderContent()}</div>\r\n          <div className=\"col-md-3 btn-user-checkout\">{renderSidebar()}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  phones: getBasketPhonesWithCount(state),\r\n  totalPrice: getTotalBasketPrice(state),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  removePhoneFromBasket: (id) => dispatch(removePhoneFromBasket(id)),\r\n  cleanBasket: () => dispatch(cleanBasket()),\r\n  basketCheckout: (phones, totalPrice) => { \r\n    dispatch(basketCheckout(phones)) \r\n    // Segment track() event for checkout clicked\r\n    let orderId = Math.random().toString(36).substring(7);\r\n    analytics.track(\"Checkout Clicked\", {\r\n      order_id: orderId,\r\n      value: totalPrice,\r\n      products: phones,\r\n      category: \"Checkout\",\r\n    });\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Basket);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getProfile } from \"../selectors/Profile\";\r\nimport { setProfile } from \"../actions/Profile\";\r\nimport { browserHistory } from \"react-router\";\r\nimport { Link } from \"react-router\";\r\nimport btoa from \"btoa\";\r\n\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      usernameValue: props.username,\r\n      passwordValue: props.password,\r\n      firstNameValue: props.firstName,\r\n      lastNameValue: props.lastName,\r\n      isRegisteredValue: props.isRegistered,\r\n      message: \"\",\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.onUsernameInputChange = this.onUsernameInputChange.bind(this);\r\n    this.onPasswordInputChange = this.onPasswordInputChange.bind(this);\r\n    this.onFirstNameInputChange = this.onFirstNameInputChange.bind(this);\r\n    this.onLastNameInputChange = this.onLastNameInputChange.bind(this);\r\n\r\n  }\r\n\r\n  onUsernameInputChange = (e) => {\r\n    const usernameValue = e.target.value;\r\n    this.setState({\r\n      usernameValue,\r\n    });\r\n  };\r\n\r\n  onPasswordInputChange = (e) => {\r\n    const passwordValue = e.target.value;\r\n    this.setState({\r\n      passwordValue,\r\n    });\r\n  };\r\n\r\n  onFirstNameInputChange = (e) => {\r\n    const firstNameValue = e.target.value;\r\n    this.setState({\r\n      firstNameValue,\r\n    });\r\n  };\r\n\r\n  onLastNameInputChange = (e) => {\r\n    const lastNameValue = e.target.value;\r\n    this.setState({\r\n      lastNameValue,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!this.state.usernameValue \r\n      || !this.state.passwordValue\r\n      || !this.state.firstNameValue\r\n      || !this.state.lastNameValue) {\r\n      this.setState({\r\n        message: \"All fields are required\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    const isLoginAction = this.state.isRegisteredValue === true;\r\n\r\n    const userId = !this.props.userId\r\n      ? btoa(this.state.usernameValue)\r\n      : this.props.userId;\r\n\r\n    this.props.setProfile({\r\n      username: this.state.usernameValue,\r\n      password: this.state.passwordValue,\r\n      firstName: this.state.firstNameValue,\r\n      lastName: this.state.lastNameValue,\r\n      isRegistered: true,\r\n      isLoggedIn: isLoginAction,\r\n      userId,\r\n    });\r\n\r\n    browserHistory.push(\"/\");\r\n\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"view-container\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n\r\n                  {!this.state.isRegisteredValue && (\r\n                    <div className=\"form-row\">\r\n                      <div className=\"form-group col-md-3\">\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          name=\"firstName\"\r\n                          value={this.state.firstNameValue}\r\n                          onChange={this.onFirstNameInputChange}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group col-md-3\">\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          name=\"lastName\"\r\n                          value={this.state.lastNameValue}\r\n                          onChange={this.onLastNameInputChange}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  \r\n                  {!this.state.isLoggedIn && (\r\n                    <div className=\"form-row\">\r\n                      <div className=\"form-group col-md-3\">\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          name=\"username\"\r\n                          value={this.state.usernameValue}\r\n                          onChange={this.onUsernameInputChange}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group col-md-3\">\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input\r\n                          type=\"password\"\r\n                          className=\"form-control\"\r\n                          name=\"password\"\r\n                          onChange={this.onPasswordInputChange}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {!this.state.isLoggedInValue && (\r\n                    <div className=\"form-row\">\r\n                      <div className=\"form-group col-md-3\">\r\n                        <button className=\"btn btn-primary\">\r\n                          <span>\r\n                            {this.state.isRegisteredValue\r\n                              ? \"Login\"\r\n                              : \"Complete Registration\"}\r\n                          </span>\r\n                        </button>\r\n                        <span> {this.state.message}</span>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                </form>\r\n                <Link className=\"btn btn-default\" to=\"/\">\r\n                  <span className=\"glyphicon glyphicon-circle-arrow-left\" />\r\n                  <span> Continue Shopping</span>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => getProfile(state);\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setProfile: (id) => {\r\n    dispatch(setProfile(id));\r\n    analytics.identify(id.userId,\r\n    {\r\n      firstName: id.firstName,\r\n      lastName: id.lastName,\r\n      username: id.userName,\r\n      password: id.password,\r\n    });\r\n    analytics.track('User Registered',\r\n    {\r\n      category: \"Account\",\r\n    })\r\n  }\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","export const setProfile = (profile) => async (dispatch, getState) => {\n  dispatch({\n    type: \"SET_PROFILE\",\n    payload: profile,\n  });\n};\n","import \"./main.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport configureStore from \"./store/configureStore\";\nimport { Provider } from \"react-redux\";\nimport { browserHistory, Router, Route } from \"react-router\";\nimport { syncHistoryWithStore } from \"react-router-redux\";\nimport Layout from \"./Containers/Layout\";\nimport Phones from \"./Containers/Phones\";\nimport Phone from \"./Containers/Phone\";\nimport Basket from \"./Containers/Basket\";\nimport Profile from \"./Containers/Profile\";\n\nconst store = configureStore();\nconst history = syncHistoryWithStore(browserHistory, store);\nconst jsx = (\n  <Provider store={store}>\n    <Router history={history}>\n      <Route component={Layout}>\n        <Route path=\"/\" component={Phones}></Route>\n        <Route path=\"/categories/:id\" component={Phones} />\n      </Route>\n      <Route path=\"/Phones/:id\" component={Phone} />\n      <Route path=\"/basket\" component={Basket} />\n      <Route path=\"/profile\" component={Profile} />\n    </Router>\n  </Provider>\n);\n\nReactDOM.render(jsx, document.getElementById(\"root\"));\n"],"sourceRoot":""}