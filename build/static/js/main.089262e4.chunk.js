(this.webpackJsonpshopoholic=this.webpackJsonpshopoholic||[]).push([[0],{161:function(e,t,a){},378:function(e,t,a){"use strict";a.r(t);a(161);var n=a(5),s=a.n(n),r=a(150),c=a.n(r),i=a(30),o=a(153),l=a(3),u=a.n(l),d={},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PHONE_SUCCESS":var a=u.a.indexBy(u.a.prop("id"),t.payload);return u.a.merge(e,a);case"LOAD_MORE_SUCCESS":var n=u.a.indexBy(u.a.prop("id"),t.payload);return u.a.merge(e,n);case"FETCH_PHONE_BY_ID_SUCCESS":return u.a.assoc(t.payload.id,t.payload,e);default:return e}},p={ids:[],search:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PHONE_SUCCESS":return u.a.merge(e,{ids:u.a.pluck("id",t.payload)});case"LOAD_MORE_SUCCESS":var a=u.a.pluck("id",t.payload);return u.a.merge(e,{ids:u.a.concat(a,e.ids)});case"SEARCH_PHONE":return console.log("text to be searched is ",t.payload),u.a.merge(e,{search:t.payload});default:return e}},b={id:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PHONE_BY_ID_SUCCESS":return u.a.merge(e,{id:u.a.prop("id",t.payload)});default:return e}},O={invertedDiscount:1,code:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPLY_COUPON_CODE":return e=t.payload;default:return e}},g=a(64),x=[],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PHONE_TO_BASKET":return u.a.append(t.payload,e);case"REMOVE_PHONE_FROM_BASKET":return u.a.without(u.a.of(t.payload),e);case"CLEAN_BASKET":return x;default:return e}},y={username:"",password:"",firstName:"",lastName:"",isRegistered:!1,isLoggedIn:!1,userId:""},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROFILE":return e=t.payload;default:return e}},C={},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CATEGORIES_SUCCESS":var a=u.a.indexBy(u.a.prop("id"),t.payload);return u.a.merge(e,a);default:return e}},S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,_=a(11),E=a(8),k=function(e,t){return u.a.prop(t,e.phone)},P=function(e){return u.a.path(["params","id"],e)},A=function(e,t){var a=P(t);return u.a.compose(u.a.filter((function(t){return u.a.contains(e.PhonesPage.search,u.a.prop("name",t))})),u.a.when(u.a.always(a),u.a.filter((function(e){return u.a.equals(a,u.a.prop("categoryId",e))}))),u.a.map((function(t){return k(e,t)})))(e.PhonesPage.ids)},I=function(e){return u.a.map((function(t){return k(e,t)}),e.Basket).reduce((function(t,a){return Math.round((t+a.price)*e.Coupon.invertedDiscount*100)/100}),0)},B=function(e){return e.Basket.length},T=function(e){return u.a.values(e.Categories)},H=function(e){var t=u.a.uniq(e.Basket),a=u.a.compose(u.a.map((function(t){return u.a.assoc("count",(a=t.id,u.a.compose(u.a.length,u.a.filter((function(e){return u.a.equals(a,e)})))(e.Basket)),t);var a})),u.a.map((function(t){return k(e,t)})))(t);return console.log("Phones in basket are ",a),a},L=a(0),R=Object(_.b)((function(e){return{totalBasketCount:B(e),totalPrice:I(e)}}))((function(e){var t=e.totalBasketCount,a=e.totalPrice;return Object(L.jsx)(E.a,{to:"/basket",id:"dLabel",children:Object(L.jsxs)("button",{className:"btn btn-default btn-block",title:"View Basket",children:[Object(L.jsx)("span",{className:"glyphicon glyphicon-shopping-cart"})," : ",t," item(s) ($",a,")"]})})})),F=a(89),V=a.n(F),G=Object(i.d)(E.e,Object(_.b)((function(e,t){return{categories:T(e),activeCategoryId:P(t)}})))((function(e){var t=e.categories,a=e.activeCategoryId;return Object(L.jsxs)("div",{className:"well",children:[Object(L.jsx)("span",{className:"lead",children:"Brand Filter"}),Object(L.jsxs)("div",{className:"list-group",children:[function(){var e=V()({"list-group-item":!0,active:u.a.isNil(a)});return Object(L.jsx)(E.a,{to:"/",className:e,children:"All"})}(),t.map((function(e,t){return function(e,t){var n=u.a.propEq("id",a),s=V()({"list-group-item":!0,active:n(e)});return Object(L.jsx)(E.a,{to:"/categories/".concat(e.id),className:s,children:e.name},t)}(e,t)}))]})]})})),D=a(20),U=a(21),M=a(14),z=a(23),q=a(22),Y=function(e){Object(z.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(D.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),analytics.identify("",{email:n.state.emailValue}),analytics.group("000111a",{group_id_number:"000111a",name:"Email Group"}),analytics.track("Newsletter Subscribed",{email:n.state.emailValue,category:"Newsletter"}),alert("Thank you for subscribing dude, "+n.state.emailValue+"!")},n.onNewsletterInputChange=function(e){var t=e.target.value;n.setState({emailValue:t})},n.state={emailValue:""},n.handleSubmit=n.handleSubmit.bind(Object(M.a)(n)),n.onNewsletterInputChange=n.onNewsletterInputChange.bind(Object(M.a)(n)),n}return Object(U.a)(a,[{key:"render",value:function(){return Object(L.jsxs)("div",{className:"well blosd",children:[Object(L.jsx)("span",{className:"lead",children:"Newsletter Subscription"}),Object(L.jsx)("form",{onSubmit:this.handleSubmit,children:Object(L.jsxs)("div",{className:"input-group",children:[Object(L.jsx)("input",{type:"text",className:"form-control",value:this.state.searchValue,onChange:this.onNewsletterInputChange}),Object(L.jsx)("span",{className:"input-group-btn",children:Object(L.jsx)("button",{className:"btn btn-default",children:Object(L.jsx)("span",{className:"glyphicon glyphicon-envelope"})})})]})})]})}}]),a}(s.a.Component),K=Object(_.b)(void 0,(function(e){return{}}))(Y),$=function(e){return e.Profile},J=function(e){Object(z.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(D.a)(this,a),(n=t.call(this,e)).state={isLoggedIn:e.isLoggedIn,isRegistered:e.isRegistered,username:e.username,firstName:e.firstName,lastName:e.lastName},n}return Object(U.a)(a,[{key:"render",value:function(){return Object(L.jsxs)("div",{className:"itemButton",children:[!this.state.isLoggedIn&&Object(L.jsx)(E.a,{to:"/profile",id:"dLabel",children:Object(L.jsxs)("button",{className:"btn btn-default btn-block",children:[Object(L.jsx)("span",{className:"glyphicon glyphicon-user"}),this.state.isLoggedIn||this.state.isRegistered?"Sign In":"Register"]})}),this.state.isLoggedIn&&Object(L.jsxs)("div",{children:["Hi ",this.state.firstName," ",this.state.lastName]})]})}}]),a}(s.a.Component),Q=Object(_.b)((function(e){return $(e)}))(J),X=function(){return Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:"row",children:Object(L.jsx)(R,{})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)(Q,{})}),Object(L.jsx)("br",{}),Object(L.jsx)(G,{}),Object(L.jsx)(K,{})]})},W=function(e){var t=e.children;return Object(L.jsx)("div",{className:"view-container",children:Object(L.jsx)("div",{className:"container",children:Object(L.jsxs)("div",{className:"row",children:[Object(L.jsx)("div",{className:"col-md-3",children:Object(L.jsx)(X,{})}),Object(L.jsx)("div",{className:"col-md-9",children:t})]})})})},Z=a(9),ee=a.n(Z),te=a(18),ae=[{id:"1",categoryId:"1",name:"Apple iPhone 5c",brand:"Apple",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:823,image:"/uploads/iphone5c-selection-hero-2013.png",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"1480 mAh",memory:"16GB, 32GB and RAM 1 GB"},{id:"2",categoryId:"1",name:"Apple iPhone 6",brand:"Apple",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:953,image:"/uploads/51u6y9Rm8QL._SY300_.jpg",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"1480 mAh",memory:"16GB, 32GB and RAM 1 GB"},{id:"3",categoryId:"4",name:"Lenovo A6000",brand:"Lenovo",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:764,image:"/uploads/_35%20(1).JPG",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"1480 mAh",memory:"16GB, 32GB and RAM 1 GB"},{id:"4",categoryId:"5",name:"Nokia Lumia 1520",brand:"Nokia",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:674,image:"/uploads/Lumia1520-Front-Back-png.png",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"1480 mAh",memory:"16GB, 32GB and RAM 1 GB"},{id:"5",categoryId:"3",name:"HTC One",brand:"HTC",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:674,image:"/uploads/htc-one-m7-802w-dual-sim-silver.jpg",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"1480 mAh",memory:"16GB, 32GB and RAM 1 GB"},{id:"6",categoryId:"2",name:"Samsung Galaxy S6",brand:"Samsung",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:674,image:"/uploads/Agnes_Case_for_Samsung_Galaxy_S6_(1)__92643_thumb.jpg",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"1480 mAh",memory:"16GB, 32GB and RAM 1 GB"}],ne=[{id:"1",name:"Apple"},{id:"2",name:"Samsung"},{id:"3",name:"Htc"},{id:"4",name:"Lenovo"},{id:"5",name:"Microsoft"}],se=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){e(ae)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){console.log("Id in api fetchPhones ",t),e(u.a.find(u.a.propEq("id",t),ae))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){e(ne)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(e){return function(t){t({type:"ADD_PHONE_TO_BASKET",payload:e})}},oe=function(e){Object(z.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(D.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).renderPhone=function(t,a){var n=e.props.addPhoneToBasket,s="".concat(u.a.take(60,t.description),"...");return Object(L.jsxs)("div",{className:"col-sm-4 col-lg-4 col-md-4 book-list",children:[Object(L.jsx)("div",{className:"thumbnail",children:Object(L.jsx)("img",{className:"img-thumbnail",src:t.image,alt:t.name})}),Object(L.jsxs)("div",{className:"caption",children:[Object(L.jsxs)("h4",{className:"pull-right",children:["$",t.price]}),Object(L.jsx)("h4",{children:t.name}),Object(L.jsxs)("p",{children:[" ",s]}),Object(L.jsxs)("p",{className:"itemButton",children:[Object(L.jsx)("button",{className:"btn btn-primary",onClick:function(){return n(t)},children:"Buy Now"}),Object(L.jsx)(E.a,{to:"/Phones/".concat(t.id),className:"btn btn-default",onClick:function(){return le(t)},children:"More Info"})]})]})]},a)},e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){window.analytics.page("Phones"),this.props.fetchPhones(),this.props.fetchCategories()}},{key:"render",value:function(){var e=this,t=this.props.phones;return Object(L.jsx)("div",{children:Object(L.jsx)("div",{className:"books row",children:t.map((function(t,a){return e.renderPhone(t,a)}))})})}}]),a}(s.a.Component);function le(e){analytics.track("Product Clicked",{name:e.name,brand:e.brand,category:"Products",label:e.name})}var ue=Object(_.b)((function(e,t){return{phones:A(e,t)}}),(function(e){return{fetchPhones:function(){return e(function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"FETCH_PHONE_START"}),e.next=4,se();case 4:a=e.sent,t({type:"FETCH_PHONE_SUCCESS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"FETCH_PHONE_FAIL",payload:e.t0,error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},addPhoneToBasket:function(t){e(ie(t.id)),analytics.track("Product Added",{name:t.name,price:t.price,cpu:t.cpu,camera:t.camera,size:t.size,weight:t.weight,display:t.display,battery:t.battery,memory:t.memory,category:"Products",label:t.name})},fetchCategories:function(){return e(function(){var e=Object(te.a)(ee.a.mark((function e(t,a){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"FETCH_CATEGORIES_START"}),e.next=4,ce();case 4:n=e.sent,t({type:"FETCH_CATEGORIES_SUCCESS",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"FETCH_CATEGORIES_FAILURE",payload:e.t0,error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}())}}}))(oe),de=a(160),me=function(e){Object(z.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(D.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){window.analytics.page("Phone Info"),e.props.fetchPhoneById(e.props.params.id)},e.renderFields=function(){var t=e.props.phone;return u.a.compose(u.a.toPairs,u.a.pick(["brand","cpu","camera","size","weight","display","battery","memory"]))(t).map((function(e){var t=Object(de.a)(e,2),a=t[0],n=t[1];return Object(L.jsxs)("div",{className:"column",children:[Object(L.jsx)("div",{className:"ab-details-title",children:Object(L.jsxs)("p",{children:[" ",a," "]})}),Object(L.jsx)("div",{className:"ab-details-info",children:Object(L.jsxs)("p",{children:[" ",n," "]})})]},a)}))},e.renderContent=function(){var t=e.props.phone;return Object(L.jsxs)("div",{children:[Object(L.jsxs)("div",{className:"thumbnail",children:[Object(L.jsx)("div",{className:"col-md-6",children:Object(L.jsx)("img",{className:"img-thumbnail",src:t.image,alt:t.name})}),Object(L.jsx)("div",{className:"col-md-6",children:e.renderFields()})]}),Object(L.jsxs)("div",{className:"caption-full",children:[Object(L.jsxs)("h4",{className:"pull-right",children:["$",t.price]}),Object(L.jsx)("h4",{children:t.name}),Object(L.jsx)("p",{children:t.description})]})]})},e.renderSideBar=function(){var t=e.props,a=t.phone,n=t.addPhoneToBasket;return Object(L.jsxs)("div",{children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{className:"lead",children:" Quick Shop"}),Object(L.jsx)(R,{}),Object(L.jsxs)("div",{className:"form-group",children:[Object(L.jsx)("h1",{children:a.name}),Object(L.jsx)("h2",{children:a.price})]})]}),Object(L.jsx)(E.a,{to:"/",className:"btn btn-info btn-block",children:"Back to Store"}),Object(L.jsx)("button",{type:"button",className:"btn btn-success btn-block",onClick:function(){return n(a)},children:"Add To Cart"})]})},e}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props.phone;return Object(L.jsx)("div",{className:"view-container",children:Object(L.jsxs)("div",{className:"container",children:[Object(L.jsx)("div",{className:"col-md-9",children:e&&this.renderContent()}),Object(L.jsx)("div",{className:"col-md-3",children:e&&this.renderSideBar()})]})})}}]),a}(s.a.Component),pe=Object(_.b)((function(e){return{phone:k(e,e.PhonePage.id)}}),(function(e){return{fetchPhoneById:function(t){e(function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(a,n){var s;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"FETCH_PHONE_BY_ID_START"}),t.next=4,re(e);case 4:s=t.sent,a({type:"FETCH_PHONE_BY_ID_SUCCESS",payload:s}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"FETCH_PHONE_BY_ID_FAILURE",payload:t.t0,error:!0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},addPhoneToBasket:function(t){e(ie(t.id)),analytics.track("Product Added",{name:t.name,price:t.price,cpu:t.cpu,camera:t.camera,size:t.size,weight:t.weight,display:t.display,battery:t.battery,memory:t.memory,category:"Products",label:t.name})}}}))(me),he=function(e){Object(z.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(D.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),"SUPER-10"===n.state.couponCode?(n.setState({couponCode:n.state.couponCode,message:"10% discount applied"}),n.props.applyDiscount(.9,n.state.couponCode)):n.setState({couponCode:n.state.couponCode,message:"Invalid Coupon Code"})},n.onCouponCodeInputChange=function(e){var t=e.target.value;n.setState({couponCode:t})},n.state={couponCode:"",message:""},n.handleSubmit=n.handleSubmit.bind(Object(M.a)(n)),n.onCouponCodeInputChange=n.onCouponCodeInputChange.bind(Object(M.a)(n)),n}return Object(U.a)(a,[{key:"render",value:function(){return Object(L.jsxs)("div",{className:"well blosd",children:[Object(L.jsx)("span",{className:"lead",children:"Apply Coupon Code"}),Object(L.jsx)("form",{onSubmit:this.handleSubmit,children:Object(L.jsxs)("div",{className:"input-group",children:[Object(L.jsx)("input",{type:"text",className:"form-control",value:this.state.couponCode,onChange:this.onCouponCodeInputChange}),Object(L.jsx)("span",{className:"input-group-btn",children:Object(L.jsx)("button",{className:"btn btn-default",children:Object(L.jsx)("span",{className:"glyphicon glyphicon-gift"})})})]})}),this.state.message]})}}]),a}(s.a.Component),be=Object(_.b)(void 0,(function(e){return{applyDiscount:function(t,a){return e(function(e,t){return function(a){a({type:"APPLY_COUPON_CODE",payload:{invertedDiscount:e,code:t}})}}(t,a))}}}))(he),je=Object(_.b)((function(e){return{phones:H(e),totalPrice:I(e)}}),(function(e){return{removePhoneFromBasket:function(t){return e(function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(a){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"REMOVE_PHONE_FROM_BASKET",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},cleanBasket:function(){return e((function(e){e({type:"CLEAN_BASKET"})}))},basketCheckout:function(t,a){e(function(e){return function(t,a){var n=a().Coupon,s=(n.code,n.invertedDiscount);e.reduce((function(e,t){return e+(t.price*s||0)}),0),alert(JSON.stringify(e))}}(t));var n=Math.random().toString(36).substring(7);analytics.track("Checkout Clicked",{order_id:n,value:a,products:t,category:"Checkout"})}}}))((function(e){var t=e.phones,a=e.totalPrice,n=e.removePhoneFromBasket,s=e.cleanBasket,r=e.basketCheckout;e.orderId;analytics.page("Basket");var c=u.a.isEmpty(t);return Object(L.jsx)("div",{className:"view-container",children:Object(L.jsx)("div",{className:"container",children:Object(L.jsxs)("div",{className:"row",children:[Object(L.jsx)("div",{className:"col-md-9",children:Object(L.jsxs)("div",{children:[c&&Object(L.jsx)("div",{children:" Your shopping cart is empty "}),Object(L.jsx)("div",{className:"table-responsive",children:Object(L.jsx)("table",{className:"table-bordered table-striped table-condensed cf",children:Object(L.jsx)("tbody",{children:t.map((function(e,t){return Object(L.jsxs)("tr",{className:"item-checout",children:[Object(L.jsx)("td",{className:"first-column-checkout",children:Object(L.jsx)("img",{className:"img-thumbnail",src:e.image,alt:e.name})}),Object(L.jsx)("td",{children:e.name}),Object(L.jsxs)("td",{children:["$",e.price]}),Object(L.jsx)("td",{children:e.count}),Object(L.jsx)("td",{children:Object(L.jsx)("span",{className:"glyphicon glyphicon-remove",onClick:function(){return n(e.id)}})})]},t)}))})})}),u.a.not(c)&&Object(L.jsx)("div",{className:"row",children:Object(L.jsxs)("div",{className:"pull-right total-user-checkout",children:[Object(L.jsx)("b",{children:"Total:"}),"$",a]})})]})}),Object(L.jsx)("div",{className:"col-md-3 btn-user-checkout",children:Object(L.jsxs)("div",{children:[Object(L.jsx)(be,{}),u.a.not(c)&&Object(L.jsxs)("div",{children:[Object(L.jsxs)("button",{className:"btn btn-danger",onClick:function(){return s()},children:[Object(L.jsx)("span",{className:"glyphicon glyphicon-trash"}),"Clean Cart"]}),Object(L.jsxs)("button",{className:"btn btn-success",onClick:function(){return r(t,a)},children:[Object(L.jsx)("span",{className:"glyphicon glyphicon-envelope"}),"Checkout"]})]}),Object(L.jsxs)(E.a,{className:"btn btn-default",to:"/",children:[Object(L.jsx)("span",{className:"glyphicon glyphicon-circle-arrow-left"}),Object(L.jsx)("span",{children:" Continue Shopping"})]})]})})]})})})})),Oe=a(159),fe=a.n(Oe),ge=function(e){Object(z.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(D.a)(this,a),(n=t.call(this,e)).onUsernameInputChange=function(e){var t=e.target.value;n.setState({usernameValue:t})},n.onPasswordInputChange=function(e){var t=e.target.value;n.setState({passwordValue:t})},n.onFirstNameInputChange=function(e){var t=e.target.value;n.setState({firstNameValue:t})},n.onLastNameInputChange=function(e){var t=e.target.value;n.setState({lastNameValue:t})},n.handleSubmit=function(e){if(e.preventDefault(),n.state.usernameValue&&n.state.passwordValue&&n.state.firstNameValue&&n.state.lastNameValue){var t=!0===n.state.isRegisteredValue,a=n.props.userId?n.props.userId:fe()(n.state.usernameValue);n.props.setProfile({username:n.state.usernameValue,password:n.state.passwordValue,firstName:n.state.firstNameValue,lastName:n.state.lastNameValue,isRegistered:!0,isLoggedIn:t,userId:a}),E.d.push("/")}else n.setState({message:"All fields are required"})},n.state={usernameValue:e.username,passwordValue:e.password,firstNameValue:e.firstName,lastNameValue:e.lastName,isRegisteredValue:e.isRegistered,message:""},n.handleSubmit=n.handleSubmit.bind(Object(M.a)(n)),n.onUsernameInputChange=n.onUsernameInputChange.bind(Object(M.a)(n)),n.onPasswordInputChange=n.onPasswordInputChange.bind(Object(M.a)(n)),n.onFirstNameInputChange=n.onFirstNameInputChange.bind(Object(M.a)(n)),n.onLastNameInputChange=n.onLastNameInputChange.bind(Object(M.a)(n)),n}return Object(U.a)(a,[{key:"render",value:function(){return Object(L.jsx)("div",{className:"view-container",children:Object(L.jsx)("div",{className:"container",children:Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("div",{className:"col-md-12",children:Object(L.jsxs)("div",{children:[Object(L.jsxs)("form",{onSubmit:this.handleSubmit,children:[!this.state.isRegisteredValue&&Object(L.jsxs)("div",{className:"form-row",children:[Object(L.jsxs)("div",{className:"form-group col-md-3",children:[Object(L.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(L.jsx)("input",{type:"text",className:"form-control",name:"firstName",value:this.state.firstNameValue,onChange:this.onFirstNameInputChange})]}),Object(L.jsxs)("div",{className:"form-group col-md-3",children:[Object(L.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(L.jsx)("input",{type:"text",className:"form-control",name:"lastName",value:this.state.lastNameValue,onChange:this.onLastNameInputChange})]})]}),!this.state.isLoggedIn&&Object(L.jsxs)("div",{className:"form-row",children:[Object(L.jsxs)("div",{className:"form-group col-md-3",children:[Object(L.jsx)("label",{htmlFor:"username",children:"Username"}),Object(L.jsx)("input",{type:"text",className:"form-control",name:"username",value:this.state.usernameValue,onChange:this.onUsernameInputChange})]}),Object(L.jsxs)("div",{className:"form-group col-md-3",children:[Object(L.jsx)("label",{htmlFor:"password",children:"Password"}),Object(L.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:this.onPasswordInputChange})]})]}),!this.state.isLoggedInValue&&Object(L.jsx)("div",{className:"form-row",children:Object(L.jsxs)("div",{className:"form-group col-md-3",children:[Object(L.jsx)("button",{className:"btn btn-primary",children:Object(L.jsx)("span",{children:this.state.isRegisteredValue?"Login":"Complete Registration"})}),Object(L.jsxs)("span",{children:[" ",this.state.message]})]})})]}),Object(L.jsxs)(E.a,{className:"btn btn-default",to:"/",children:[Object(L.jsx)("span",{className:"glyphicon glyphicon-circle-arrow-left"}),Object(L.jsx)("span",{children:" Continue Shopping"})]})]})})})})})}}]),a}(s.a.Component),xe=Object(_.b)((function(e){return $(e)}),(function(e){return{setProfile:function(t){var a;e((a=t,function(){var e=Object(te.a)(ee.a.mark((function e(t,n){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_PROFILE",payload:a});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),analytics.identify(t.userId,{firstName:t.firstName,lastName:t.lastName,username:t.userName,password:t.password}),analytics.track("User Registered",{category:"Account"})}}}))(ge),ve=Object(i.e)(Object(i.c)({routing:g.routerReducer,phone:m,PhonesPage:h,PhonePage:j,Basket:v,Coupon:f,Categories:w,Profile:N}),S(Object(i.a)(o.a))),ye=Object(g.syncHistoryWithStore)(E.d,ve),Ne=Object(L.jsx)(_.a,{store:ve,children:Object(L.jsxs)(E.c,{history:ye,children:[Object(L.jsxs)(E.b,{component:W,children:[Object(L.jsx)(E.b,{path:"/",component:ue}),Object(L.jsx)(E.b,{path:"/categories/:id",component:ue})]}),Object(L.jsx)(E.b,{path:"/Phones/:id",component:pe}),Object(L.jsx)(E.b,{path:"/basket",component:je}),Object(L.jsx)(E.b,{path:"/profile",component:xe})]})});c.a.render(Ne,document.getElementById("root"))}},[[378,1,2]]]);
//# sourceMappingURL=main.089262e4.chunk.js.map